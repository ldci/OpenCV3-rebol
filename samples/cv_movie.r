#! /usr/local/bin/rebolREBOL [	Title:		"OpenCV Tests: Reading Video Files"	Author:		"François Jouen"	Rights:		"Copyright (c) 2012-2016 François Jouen. All rights reserved."	License:    "BSD-3 - https://github.com/dockimbel/Red/blob/master/BSD-3-License.txt"]do %../opencv.rset 'appDir what-dir movie: to-string to-local-file join appDir"_images/test.mov"; what we want ;print "Select a movie " ;temp: request-file ;movie: to-string to-local-file to-string tempcvStartWindowThreadcapture: cvCreateFileCapture movie&capture: pointer 'integer! capture ; for releasing see cvReleaseCapture; some infomation about our movieprint [movie]print ["Width:  " cvGetCaptureProperty capture CV_CAP_PROP_FRAME_WIDTH]print ["Height:  " cvGetCaptureProperty capture CV_CAP_PROP_FRAME_HEIGHT]print ["N of Frames:  " cvGetCaptureProperty capture CV_CAP_PROP_FRAME_COUNT]print ["FPS:  " cvGetCaptureProperty capture CV_CAP_PROP_FPS]cvNamedWindow movie CV_WINDOW_AUTOSIZE ; create window to show the movienbf: to integer! cvGetCaptureProperty capture CV_CAP_PROP_FRAME_COUNTdelai: to integer! (1 / cvGetCaptureProperty capture CV_CAP_PROP_FPS) * 1000foo: 0while [foo < nbf] [  	image: cvQueryFrame capture ; get frame 	cvShowImage movie image ; show frame	cvWaitKey delai	foo: foo + 1]print ["Done. Any key to quit" lf]cvWaitKey 0cvDestroyAllWindowsfree-mem imagecvReleaseCapture &pointer &capture ; double pointerfreeDylib